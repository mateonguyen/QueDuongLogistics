<div>
	<nav aria-label="Breadcrumbs" class="breadcrumbs container-fluid">
		<div class="breadcrumbs-container">
			<h4 class="mr-2">LỆNH ĐIỀU VẬN</h4>
			<div><a>
					<svg-icon [name]="'truck-fast'" [width]="20" [height]="16" class="align-baseline"></svg-icon>
				</a></div>
		</div>
	</nav>
</div>
<div class="container-fluid">
	<main class="content" id="content-body">
		<div class="flash-container flash-container-page" *ngIf="this.globalError">
			<div class="flash-alert mb-2">
				<svg-icon [name]="'error'" [size]="16" [className]="'mr-1 align-middle d-inline'"></svg-icon>
				<span class="align-text-top">{{ this.globalError }}</span>
				<div class="close-icon-wrapper js-close-icon">
					<svg-icon [name]="'close'" [size]="16" class="align-baseline"></svg-icon>
				</div>
			</div>
		</div>
		<form #editForm="ngForm" (ngSubmit)="editForm.valid && save()">
			<button type="submit" class="btn btn-success" [disabled]="!editForm.valid">Tạo điều vận</button>
			<div class="row">
				<div class="col-lg-4">
					<app-transaction-customer-select [(customer)]="transaction.customer"
						[(transactionCode)]="transaction.transactionCode"></app-transaction-customer-select>
				</div>

				<div class="col-lg-4">
				</div>

				<div class="col-lg-4">
					<!-- <app-transaction-vendor-select></app-transaction-vendor-select> -->
				</div>

			</div>

			<div class="row mt-5">
				<div class="col-lg-4">
					<app-transaction-driver-select [(model)]="transaction.driver"
						(change)="onDriverChange($event)"></app-transaction-driver-select>
				</div>

				<div class=" col-lg-4">
					<app-transaction-vehicle-select [(model)]="transaction.vehicle"
						(change)="onVehicleChange($event)"></app-transaction-vehicle-select>
				</div>

				<div class="col-lg-4">
					<app-transaction-shipping-route-select [(model)]="transaction.shippingRoute"
					(change)="onShippingRouteChange($event)"></app-transaction-shipping-route-select>
				</div>

			</div>

			<div class="row mt-5">
				<app-transaction-details [(model)]="transaction.transactionDetails" (modelChange)="handleModelChange($event)"></app-transaction-details>
			</div>

			<div class="row mt-5">
				<div class="col-lg-6">
					<table class="table table_price table-bordered">
						<thead>
							<tr>
								<th class="whitespace-nowrap">Chi phí phát sinh</th>
								<th class="whitespace-nowrap">Giá</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>Phí lưu ca</td>
								<td>
									<input type="text" class="form-input" name="demurrageFee" [(ngModel)]="transaction.demurrageFee" >
								</td>
							</tr>
							<tr>
								<td>Phí ghép điểm</td>
								<td>
									<input type="text" class="form-input" name="transshipmentFee" [(ngModel)]="transaction.transshipmentFee" >
								</td>
							</tr>
							<tr>
								<td>Phí hàng về</td>
								<td>
									<input type="text" class="form-input" name="returnShippingFee" [(ngModel)]="transaction.returnShippingFee" >
								</td>
							</tr>
							<tr>
								<td>Phí hải quan</td>
								<td>
									<input type="text" class="form-input" name="customsFee" [(ngModel)]="transaction.customsFee" >
								</td>
							</tr>
							<tr>
								<td>Phí bốc xếp</td>
								<td>
									<input type="text" class="form-input" name="handlingFee" [(ngModel)]="transaction.handlingFee" >
								</td>
							</tr>
							<tr>
								<td>Vé</td>
								<td>
									<input type="text" class="form-input" name="ticketFee" [(ngModel)]="transaction.ticketFee" >
								</td>
							</tr>
							<tr>
								<td>Phát sinh khác</td>
								<td>
									<input type="text" class="form-input" name="otherFee" [(ngModel)]="transaction.otherFee" >
								</td>
							</tr>
						</tbody>
						<tfoot>
							<tr role="row">
								<th class="whitespace-nowrap">Tổng</th>
								<th class="whitespace-nowrap">0</th>
							</tr>
						</tfoot>
					</table>
				</div>
				<div class="col-lg-6">
					<table class="table table_price table-bordered">
						<thead>
							<tr>
								<th class="whitespace-nowrap">Biên bản giao hàng</th>
								<th class="whitespace-nowrap">Giá</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>Lái xe nộp đủ về VP</td>
								<td>
									<input type="text" class="form-input" name="docManager" [(ngModel)]="transaction.docManager" >
								</td>
							</tr>
							<tr>
								<td>Trả người quản lý giấy tờ</td>
								<td>
									<input type="text" class="form-input" name="isSummitedDoc" [(ngModel)]="transaction.isSummitedDoc" >
								</td>
							</tr>
							<tr>
								<td>Trả khách hàng</td>
								<td>
									<input type="text" class="form-input" name="isCustomerReturn" [(ngModel)]="transaction.isCustomerReturn" >
								</td>
							</tr>
						</tbody>
						<tfoot>
							<tr role="row">
								<th class="whitespace-nowrap">Tổng</th>
								<th class="whitespace-nowrap">0</th>
							</tr>
						</tfoot>
					</table>
				</div>
			</div>


			<div class="row mt-5">
				<div class="col-lg-12">
					<div class="information_panel">
						<h4>Ghi chú</h4>
						<textarea rows="5" class="note_input" name="notes" [(ngModel)]="transaction.notes"></textarea>
					</div>
				</div>
			</div>

		</form>
	</main>
</div>